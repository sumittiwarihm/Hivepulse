<!-- {% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentiment Analysis</title>
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
</head>
<body>
    <div class="topnav">
        <div class="logo">
            <h4>HivePulse</h4>
        </div>
        <div class="menu">
            <a id="loginLink" href="{% url 'loginPage' %}">Login</a>
            <a id="getSentimentResultButton" href="{% url 'product_sentiment_view' %}">GetSentimentResult</a>
            <span id="username" class="username"></span>
            <a id="logoutButton" class="logout-button" href="#" style="display:none;">Logout</a>
        </div>
    </div>

    <div class="card-container">
        <div class="card">
            <h2>Amazon Sentiment Analysis</h2>
            <p>Analyze sentiment from Amazon reviews.</p>
            <a href="{% url 'amazonPage' %}">Generate Report</a>
        </div>
        <div class="card">
            <h2>Flipkart Store Sentiment Analysis</h2>
            <p>Analyze sentiment from Flipkart reviews.</p>
            <a href="{% url 'flipkartPage' %}">Generate Report</a>
        </div>
        <div class="card">
            <h2>Playstore Sentiment Analysis</h2>
            <p>Analyze sentiment from Playstore reviews.</p>
            <a href="{% url 'playstorePage' %}">Generate Report</a>
        </div>
    </div>

    <div class="form-container">
        <h2>Submit generated ID for Sentiment Analysis Report:</h2>
        <form id="myForm" method="post">
            {% csrf_token %}
            <label for="id_input">Enter ID:</label><br>
            <input type="text" id="id_input" name="id_input" required><br><br>
            <button type="submit">Submit</button>
        </form>
    </div>
    <script src="{% static 'js/home.js' %}"></script>
</body>
</html> -->
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentiment Analysis</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
</head>
<body>
    <div class="topnav">
        <div class="logo">
            <h4>HivePulse</h4>
        </div>
        <div class="menu dropdown">
            <!-- Updated dropdown button and menu style to match the provided code -->
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                ðŸ‘¤
            </button>
            <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdownMenuButton">
                <li><a id="loginLink" class="dropdown-item" href="{% url 'loginPage' %}">Login</a></li>
                <li><a id="getSentimentResultButton" class="dropdown-item" href="{% url 'product_sentiment_view' %}">Get-Raw-Sentiment-And-Score</a></li>
                <li><span id="username" class="dropdown-item username"></span></li>
                <li><a id="logoutButton" class="dropdown-item logout-button" href="#" style="display:none;">Logout</a></li>
            </ul>
        </div>
    </div>

    <div class="content-container">
        <div class="left-section">
            <img src="{% static 'images/HiveMinds.jpeg' %}" alt="Sentiment Analysis" class="analysis-image">
        </div>
        <div class="right-section">
            <div class="platform-selection">
                <h2>Select Platform for Sentiment Analysis</h2>
                <label for="platform">Choose a platform:</label>
                <select id="platform" name="platform" onchange="updateFormAction()">
                    <option value="amazonPage">Amazon</option>
                    <option value="flipkartPage">Flipkart</option>
                    <option value="playstorePage">Playstore</option>
                </select>
                <button id="generateReportButton" onclick="submitPlatformForm()">Generate Report</button>
            </div>            
        </div>
        <div class="footer">
            <div class="form-container">
                <h2>Submit generated ID for Sentiment Analysis Report:</h2>
                <form id="sentiment-form" method="post">
                    {% csrf_token %}
                    <label for="id_input">Enter ID:</label><br>
                    <input type="text" id="sentiment-session-id" name="id_input" required><br><br>
                    <button id="getSentimentBYSession" type="submit">Submit</button>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script src="{% static 'js/home.js' %}"></script>
    <script>
        function submitPlatformForm() {
            const platform = document.getElementById('platform').value;
            let url = '';

            if (platform === 'amazonPage') {
                url = "{% url 'amazonPage' %}";
            } else if (platform === 'flipkartPage') {
                url = "{% url 'flipkartPage' %}";
            } else if (platform === 'playstorePage') {
                url = "{% url 'playstorePage' %}";
            }

            window.location.href = url;
        }

        document.getElementById("sentiment-form").addEventListener('submit', function(event) {
            event.preventDefault();
        });
    </script>
</body>
</html>
